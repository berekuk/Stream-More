libstream-more-perl (0.13.12) unstable; urgency=low

  * DiskBuffer race fixed again

 -- Andrei Mishchenko <druxa@yandex-team.ru>  Mon, 30 Jul 2012 19:27:37 +0400

libstream-more-perl (0.13.11) unstable; urgency=low

  * Stream::Buffer::File: max_log_size = 10 * max_chunk_size

 -- Stepan Artamonov <swatmad@yandex-team.ru>  Mon, 30 Jul 2012 16:05:22 +0400

libstream-more-perl (0.13.10) unstable; urgency=low

  * Stream::In::Buffer: now Stream::Buffer::File is default buffer class

 -- Stepan Artamonov <swatmad@yandex-team.ru>  Mon, 30 Jul 2012 15:50:33 +0400

libstream-more-perl (0.13.9) unstable; urgency=low

  * Stream::Buffer::File: get filename from Stream::File object

 -- Stepan Artamonov <swatmad@yandex-team.ru>  Thu, 26 Jul 2012 15:09:11 +0400

libstream-more-perl (0.13.8) unstable; urgency=low

  * Stream::Buffer::File: don't create Stream::File many times, truncate after
    creating

 -- Stepan Artamonov <swatmad@yandex-team.ru>  Thu, 26 Jul 2012 14:16:22 +0400

libstream-more-perl (0.13.7) unstable; urgency=low

  * Stream::Buffer::File: rewrote with some fixes 

 -- Stepan Artamonov <swatmad@yandex-team.ru>  Wed, 25 Jul 2012 18:49:48 +0400

libstream-more-perl (0.13.6) unstable; urgency=low

  * Stream::Buffer::File: initial release

 -- Stepan Artamonov <swatmad@yandex-team.ru>  Wed, 25 Jul 2012 13:03:58 +0400

libstream-more-perl (0.13.5) unstable; urgency=low

  * switch_out simple ->> for simplifying Multiplex->new([filter({ check(...)
    })]) constructions

 -- Serge Toropov <sombr@yandex-team.ru>  Wed, 18 Jul 2012 13:08:24 +0400

libstream-more-perl (0.13.4) unstable; urgency=low

  * DiskBuffer: fix read-only mode

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Mon, 09 Jul 2012 18:41:21 +0400

libstream-more-perl (0.13.3) unstable; urgency=low

  * fix DiskBuffer race leading to premature end-of-data 

 -- Andrei Mishchenko <druxa@yandex-team.ru>  Mon, 09 Jul 2012 18:13:13 +0400

libstream-more-perl (0.13.2) unstable; urgency=low

  * fix RoundRobin buffer => 0 mode 

 -- Andrei Mishchenko <druxa@yandex-team.ru>  Fri, 06 Jul 2012 13:06:41 +0400

libstream-more-perl (0.13.1) unstable; urgency=low

  [ nikita ]
  * Stream::Filter::Coro : fix memory leaks

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Thu, 05 Jul 2012 17:54:17 +0400

libstream-more-perl (0.13.0) unstable; urgency=low

  [ Vyacheslav Matjukhin (No comments) ]
  * Stream::Buffer::Persistent - SQLite buffer alternative
  * common Stream::Buffer::Role role
  * refactor buffers API a bit (save() is more straightforward)

  [ Andrei Mishchenko ]
  * Stream::Buffer::SQLite - turn off auto fsync 

 -- Andrei Mishchenko <druxa@yandex-team.ru>  Wed, 04 Jul 2012 15:13:11 +0400

libstream-more-perl (0.12.1) unstable; urgency=low

  * DiskBuffer: more fixes
   - actually do cleanup
   - fix tmp files garbage-collecting (don't fail if tmp file got removed
   while we checked its age)
   - fix races in chunk removing logic

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Fri, 29 Jun 2012 17:18:34 +0400

libstream-more-perl (0.12.0) unstable; urgency=low

  * take read lock in DiskBuffer by default
    (Queue and RoundRobin disable this option for the sake of performance)
  * fix lag() race condition in DiskBuffer
  * optimize RoundRobin ->in() method (this change speeds up everything,
    especially ->commit())

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Tue, 26 Jun 2012 15:32:02 +0400

libstream-more-perl (0.11.8) unstable; urgency=low

  * RoundRobin improvements:
   - fix duplicate reads
   - fix initialization races

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Thu, 21 Jun 2012 21:16:30 +0400

libstream-more-perl (0.11.7) unstable; urgency=low

  * fixed unlink/lockf race in Buffer::SQLite + stress test

 -- Andrei Mishchenko <druxa@yandex-team.ru>  Wed, 20 Jun 2012 15:04:29 +0400

libstream-more-perl (0.11.6) unstable; urgency=low

  * fix coro_filter empty commit hanging

 -- Andrei Mishchenko <druxa@yandex-team.ru>  Fri, 15 Jun 2012 17:39:11 +0400

libstream-more-perl (0.11.5) unstable; urgency=low

  * Stram::Filter::Coro->write made blocking

 -- Andrei Mishchenko <druxa@yandex-team.ru>  Fri, 15 Jun 2012 16:49:42 +0400

libstream-more-perl (0.11.4) unstable; urgency=low

  * add coro_out function that writes into output stream in coros

 -- nikita <nikita@yandex-team.ru>  Wed, 14 Jun 2012 17:01:21 +0400

libstream-more-perl (0.11.3) unstable; urgency=low

  * Stream::In::Buffer (MQ) 

 -- Andrei Mishchenko <druxa@yandex-team.ru>  Wed, 13 Jun 2012 19:42:27 +0400

libstream-more-perl (0.11.2) unstable; urgency=low

  * Skip -> read commit on skip

 -- Serge Toropov <sombr@yandex-team.ru>  Wed, 13 Jun 2012 19:02:48 +0400

libstream-more-perl (0.11.1) unstable; urgency=low

  * fix - commit in Skip

 -- Serge Toropov <sombr@yandex-team.ru>  Wed, 06 Jun 2012 16:56:25 +0400

libstream-more-perl (0.11.0) unstable; urgency=low

  * refactor Stream::Filter::Coro - persistent coro threads

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Wed, 30 May 2012 22:01:21 +0400

libstream-more-perl (0.10.1) unstable; urgency=low

  * check lag on create

 -- Serge Toropov <sombr@yandex-team.ru>  Thu, 31 May 2012 14:23:34 +0400

libstream-more-perl (0.10.0) unstable; urgency=low

  * Commit callback in code_out
  * RoundRobin: buffer_size option to enable implicit commit (flush). Is
    turned on by default!

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Thu, 24 May 2012 22:37:40 +0400

libstream-more-perl (0.9.0) unstable; urgency=low

  * Stream::Moose module with stream traits

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Fri, 18 May 2012 18:00:13 +0400

libstream-more-perl (0.8.5) unstable; urgency=low

  * Bump version

 -- Serge Toropov <sombr@yandex-team.ru>  Fri, 18 May 2012 10:42:35 +0400

libstream-more-perl (0.8.4) unstable; urgency=low

  * Skip filter

 -- Serge Toropov <sombr@yandex-team.ru>  Fri, 18 May 2012 10:42:12 +0400

libstream-more-perl (0.8.3) unstable; urgency=low

  * Stream::In::DiskBuffer::Chunk: remove old chunk.new if it exists - should
    help with invalid chunks after reboots

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Tue, 24 Apr 2012 22:58:18 +0400

libstream-more-perl (0.8.2) unstable; urgency=low

  * Stream::Moose::Filter::Buffered role
  * use MooseX::MarkAsMethods instead of MooseX::Role::WithOverloading

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Fri, 30 Mar 2012 19:31:33 +0400

libstream-more-perl (0.8.1) unstable; urgency=low

  * Stream::Moose::Filter role
  * Stream::Filter::Coro and filter_coro simple constructor

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Tue, 13 Mar 2012 21:19:38 +0400

libstream-more-perl (0.8.0) unstable; urgency=low

  * using Class::DOES::Moose to add extra DOES capabilities
  * Stream::MemoryStorage::In supports lag
  * Stream::Concat::In:
   - optionally impelement ClientList
   - return undef from read() in list context when there is nothing to read
   - always try to new data from the last stream, even after returning undef
  * Stream::RoundRobin:
   - fix description
   - fix read_only mode

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Wed, 29 Feb 2012 21:04:06 +0400

libstream-more-perl (0.7.8) UNRELEASED; urgency=low

  * Stream::Propagate:
   - load formats from catalog
   - compress content if gzip option is set

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Fri, 17 Feb 2012 17:22:43 +0400

libstream-more-perl (0.7.7) unstable; urgency=low

  * Stream::In::DiskBuffer: fix adaptive chunk size calculation
  * Stream::Out::Any: targets() method
  * Stream::RoundRobin: buffer => 0 option in in() method
  * Stream::Propagate: allow overriding 'ua' via constructor parameters

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Mon, 13 Feb 2012 22:41:07 +0400

libstream-more-perl (0.7.6) unstable; urgency=low

  * use and implement DOES() instead of does() when checking for capabilities

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Thu, 12 Jan 2012 22:24:57 +0400

libstream-more-perl (0.7.5) unstable; urgency=low

  * don't use Yandex::Version - dzil-generated $VERSION is enough

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Thu, 24 Nov 2011 17:01:08 +0400

libstream-more-perl (0.7.4) unstable; urgency=low

  * rollback removing 'data2' key in json formatter, add assert instead, so
    that we can upgrade smoothly in the next release

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Wed, 16 Nov 2011 18:25:05 +0400

libstream-more-perl (0.7.3) unstable; urgency=low

  * DiskBuffer: support lag role when moose-based input stream supports it
  * get rid of 'data2' in json formatter
  * RoundRobin:
   - load Format::Human::Bytes - fix 'info' method
   - don't keep input stream locked if we read nothing

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Mon, 14 Nov 2011 18:32:11 +0400

libstream-more-perl (0.7.2) unstable; urgency=low

  * Stream::RoundRobin:
   - description role
   - fill with \n instead of \0 initially
  * Stream::Queue:
   - description role
   - order big chunks when reading
   - Stream::Queue::In moosified
  * rewrite Stream::Concat and Stream::Concat::In with Moose
  * Stream::Concat::In propagates lag method
  * more pod everywhere, test pod for moose-based classes

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Mon, 10 Oct 2011 18:29:54 +0400

libstream-more-perl (0.7.1) unstable; urgency=low

  * Stream::Moose::Role::Description

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Tue, 06 Sep 2011 18:53:09 +0400

libstream-more-perl (0.7.0) unstable; urgency=low

  * lots of Stream::Moose::* roles
  * Stream::RoundRobin storage

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Fri, 05 Aug 2011 17:05:22 +0400

libstream-more-perl (0.6.17) unstable; urgency=low

  * DiskBuffer: allow coderef as $in
  * Stream::Queue:
   - always comply to max_chunk_count
   - allow '.' in client names

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Tue, 17 May 2011 18:50:18 +0400

libstream-more-perl (0.6.16) unstable; urgency=low

  * Stream::Queue moosified
  * Stream::Queue supports Owned role and automatically switches to read-only
    mode if queue doesn't belong to current user

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Wed, 27 Apr 2011 16:49:24 +0400

libstream-more-perl (0.6.15) unstable; urgency=low

  [ Vyacheslav Matjukhin (No comments) ]
  * Stream::Queue, Stream::In::DiskBuffer: performance improvements
  * Stream::Concat::In: support for arbitrary number of input streams
  * json format in in catalog
  * Stream::MemoryStorage::In: destructor localizes $@
  * Stream::Propatate uses /accept handle instead of deprecated /write
  * distzilla

  [ Andrei Mishchenko ]
  * Stream::Queue fixes (not yet complete) 

 -- Andrei Mishchenko <druxa@yandex-team.ru>  Tue, 05 Apr 2011 20:40:33 +0400

libstream-more-perl (0.6.14) unstable; urgency=low

  * Stream::Queue complete read_only support

 -- Andrei Mishchenko <druxa@yandex-team.ru>  Tue, 15 Mar 2011 19:04:20 +0300

libstream-more-perl (0.6.13) unstable; urgency=low

  [ Vyacheslav Matjukhin (No comments) ]
  * Stream::Out::Any:
   - shuffle targets
   - more POD

  [ Andrei Mishchenko ]
  * Stream::Queue read_only mode

  [ Vyacheslav Matjukhin (No comments) ]
  * Stream::Simple: code_in() function
  * Stream::Bin::Filter removed (it got replaced by Yandex::Pumper)

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Wed, 09 Mar 2011 22:30:10 +0300

libstream-more-perl (0.6.12) unstable; urgency=low

  [ Vyacheslav Matjukhin (No comments) ]
  * Stream::Unrotate removed
  * Stream::Simple: memory_storage() prototype fixed
  * Stream::Out::Any: 'revalidate' option implemented
  * Stream::Concat: commit now commits new underlying stream

  [ Andrei Mishchenko ]
  * DiskBuffer read_only mode, formats support and proper lag calculation

 -- Andrei Mishchenko <druxa@yandex-team.ru>  Tue, 22 Feb 2011 22:03:17 +0300

libstream-more-perl (0.6.11) unstable; urgency=low

  * Stream::In::DiskBuffer and Stream::Queue::In now implement lag method

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Mon, 01 Nov 2010 23:09:54 +0300

libstream-more-perl (0.6.10) unstable; urgency=low

  * hotfix: deadlocks in Stream::In::DiskBuffer fixed

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Mon, 01 Nov 2010 18:14:10 +0300

libstream-more-perl (0.6.9) unstable; urgency=low

  * Stream::Propagate: explicit Content-Type: text/plain

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Thu, 28 Oct 2010 16:08:19 +0400

libstream-more-perl (0.6.8) unstable; urgency=low

  * Stream::In::DiskBuffer implemented
  * Stream::Queue:
   - rewritten to use DiskBuffer
   - storage version bumped, all processes should die and restart automatically
   - implement Stream::Storage::Role::ClientList

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Mon, 04 Oct 2010 22:27:35 +0400

libstream-more-perl (0.6.7) unstable; urgency=low

  * force dependency on fresh core streams
  * Concat and MemoryStorage fixes

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Mon, 16 Aug 2010 20:29:36 +0400

libstream-more-perl (0.6.6) unstable; urgency=low

  * Stream::MemoryStorage implemented
  * several Test::Class-based Stream::Test::* modules
  * Stream::Concat implemented

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Mon, 16 Aug 2010 19:34:10 +0400

libstream-more-perl (0.6.5) unstable; urgency=low

  * Stream::Formatter::JSON: don't quote json twice; key renamed to 'data2' to
    keep backward compatibility

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Fri, 06 Aug 2010 19:35:55 +0400

libstream-more-perl (0.6.4) unstable; urgency=low

  * Stream::Queue:
   - adaptive client chunk sizes
   - limit default queue size to 5 GB instead of 10

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Fri, 30 Jul 2010 17:07:50 +0400

libstream-more-perl (0.6.3) unstable; urgency=low

  * one more convert() fix
  * and one more

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Fri, 25 Jun 2010 17:55:28 +0400

libstream-more-perl (0.6.2) unstable; urgency=low

  * typo fix

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Fri, 25 Jun 2010 13:31:08 +0400

libstream-more-perl (0.6.1) unstable; urgency=low

  * Stream::Queue:
   - 'uninitialized' warning fixed
   - convert() from old format implemented

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Thu, 24 Jun 2010 21:40:33 +0400

libstream-more-perl (0.6.0) unstable; urgency=low

  * Stream::Queue improvements
   - permanent data is keeped in log, chunks created per-client on depand
   - gc() method instead of old clean_ids(), called only from time to time
   - stress tests and benchmarks
  * Stream::Simple:
   - code_out() - another version of processor() from Stream::Out
   - array_seq() renamed to array_in()
  * Stream::Propagate implemented

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Wed, 23 Jun 2010 22:50:43 +0400

libstream-more-perl (0.5.0) unstable; urgency=low

  * Stream::Filter::Subfilter implemented

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Fri, 05 Feb 2010 21:03:56 +0300

libstream-more-perl (0.4.8) unstable; urgency=low

  * Stream::Out::Any implemented

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Thu, 04 Feb 2010 20:18:22 +0300

libstream-more-perl (0.4.7) unstable; urgency=low

  * Stream::Queue: clean method removes lock files from client dirs too

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Wed, 25 Nov 2009 22:38:41 +0300

libstream-more-perl (0.4.6) unstable; urgency=low

  * Stream::Formatter::CSV: die when no columns specified
  * Strem::Formatter::JSON: using JSON::XS instead of broken JSON

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Wed, 25 Nov 2009 21:10:21 +0300

libstream-more-perl (0.4.5) unstable; urgency=low

  * Stream::Formatter::CSV formatter (not really CSV...)

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Tue, 24 Nov 2009 21:55:01 +0300

libstream-more-perl (0.4.4) unstable; urgency=low

  * Stream::Queue is fixed to be at least hardy-compatible
  * Stream::Formatter::JSON implemented
  * Stream::Queue calls clean on construction

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Mon, 23 Nov 2009 19:53:36 +0300

libstream-more-perl (0.4.3) unstable; urgency=low

  * Stream::Queue implemented

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Tue, 27 Oct 2009 03:27:42 +0300

libstream-more-perl (0.4.2) unstable; urgency=low

  * two experimental modules:
   - Stream::DB::Inserter
   - Stream::Bin::Filter

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Tue, 08 Sep 2009 05:05:11 +0400

libstream-more-perl (0.4.1) unstable; urgency=low

  * Stream::Out::Multiplex implemented
  * Stream::Seq removed, all PPB::Join modules support stream api now
  * pod tests
  * $VERSION in all modules

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Wed, 02 Sep 2009 03:02:07 +0400

libstream-more-perl (0.4.0) unstable; urgency=low

  * Separated from core stream sources

 -- Vyacheslav Matjukhin (No comments) <mmcleric@yandex-team.ru>  Sun, 05 Jul 2009 18:58:46 +0400
